<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>OMNET++ 5.5.1 安装步骤以及部署INET和CoRE4INET仿真框架[TSN Simulation/TSN仿真]</title>
      <link href="/2020/03/27/OMNET++%205.5.1%20%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2INET%E5%92%8CCoRE4INET%E4%BB%BF%E7%9C%9F%E6%A1%86%E6%9E%B6/"/>
      <url>/2020/03/27/OMNET++%205.5.1%20%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4%E4%BB%A5%E5%8F%8A%E9%83%A8%E7%BD%B2INET%E5%92%8CCoRE4INET%E4%BB%BF%E7%9C%9F%E6%A1%86%E6%9E%B6/</url>
      
        <content type="html"><![CDATA[<h1 id="OMNET-5-5-1-安装步骤以及部署INET和CoRE4INET仿真框架-TSN-Simulation-TSN仿真"><a href="#OMNET-5-5-1-安装步骤以及部署INET和CoRE4INET仿真框架-TSN-Simulation-TSN仿真" class="headerlink" title="OMNET++ 5.5.1 安装步骤以及部署INET和CoRE4INET仿真框架[TSN Simulation/TSN仿真]"></a>OMNET++ 5.5.1 安装步骤以及部署INET和CoRE4INET仿真框架[TSN Simulation/TSN仿真]</h1><p>因为我的目的是要使用CoRE4INET, 所以查看CoRE4INET的对软件版本的支持需求（如图1），确定OMNET++版本是 5.5.1，INET版本3.6.7 （3.6.7是对上一个版本的稳定性更新，所以这使用3.6.7也会兼容3.6.6，但是如果版本相差太大，会导致编译出错）</p><p><img src="C:%5CUsers%5CAdministrator.USER-20190806XV%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200326105631004.png" alt="image-20200326105631004"></p><blockquote><p>图1：安装需求      图片来源： <a href="https://github.com/CoRE-RG/CoRE4INET" target="_blank" rel="noopener">CoRE4INET Github</a> Access 2020. 03.25</p></blockquote><p>根据OMNET++提供的<a href="https://doc.omnetpp.org/omnetpp/InstallGuide.pdf" target="_blank" rel="noopener">installation manual version 5.5.1</a>对照相应的操作系统（e.g.,Ubuntu）然后安装即可。</p><p>这里需要注意的是，如果你安装的是旧版本的OMNET++，如，OMNET++ 5.0，就不能依照V5.5.1的installation manual安装，而是需要找到5.0的installation manual（当然是废话，但初学者还是会犯错，注意版本注意版本！），其中最大的不同就是QT的版本，5.0支持的qt4-default, 而之后的OMNET++只支持qt5-default  话不多说，如果你是ubuntu 16.04 或 ubuntu 18.04，则完全可以依照我的顺序和步骤去部署你的仿真环境。</p><p>本文分成以下三章：</p><blockquote><p>A. 安装OMNET++ 5.5.1</p><ol><li>安装编译依赖库和依赖包</li><li>下载并解压OMNET++</li><li>部署OMNET++环境并编译</li></ol><p>B. 安装INET &amp; CoRE4INE框架  </p><ol><li>下载并解压INET </li><li>下载解压CoRE4INET</li><li>编译</li></ol></blockquote><p>A. 安装OMNET++ 5.5.1</p><ol><li><p>安装编译依赖库和依赖包</p><p>按顺序执行以下命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install build-essential gcc g++ bison flex perl python python3 qt5-default libqt5opengl5-dev tcl-dev tk-dev libxml2-dev zlib1g-dev default-jre doxygen graphviz libwebkitgtk-3.0-0</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:ubuntugis&#x2F;ppa sudo apt-get update sudo apt-get install openscenegraph-plugin-osgearth libosgearth-dev</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install openmpi-bin libopenmpi-dev</span><br></pre></td></tr></table></figure><ol start="2"><li>下载并解压OMNET++</li></ol></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ipfs get &#x2F;ipns&#x2F;ipfs.omnetpp.org&#x2F;release&#x2F;5.5.1&#x2F;omnetpp-5.5.1-src-linux.tgz</span><br></pre></td></tr></table></figure><blockquote><p>也可以自行去官网下载，<strong>重点注意：OMNET++的版本和你所用到框架的版本一定要匹配！！！</strong> 否则，编译框架时，会有各种报错，让你怀疑人生… </p></blockquote><p>然后解压OMNET++，并且cd到OMNET++的解压目录，然后执行以下命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">. setenv</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pwd  #查看当前目录路径</span><br><span class="line">gedit ~&#x2F;.bashrc</span><br></pre></td></tr></table></figure><p>在最后一行添加OMNET++ bin 文件夹的安装路径，例如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH&#x3D;$PATH:&#x2F;home&#x2F;junhui&#x2F;simulation_workspace&#x2F;omnetpp-5.5.1&#x2F;bin</span><br></pre></td></tr></table></figure><p><strong>重启</strong>当前终端窗口，然后执行：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;configure</span><br></pre></td></tr></table></figure><p><img src="C:%5CUsers%5CAdministrator.USER-20190806XV%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200327112020693.png" alt="image-20200327112020693"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make</span><br></pre></td></tr></table></figure><p>等待，直到如下图：</p><p><img src="C:%5CUsers%5CAdministrator.USER-20190806XV%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200327125539412.png" alt="image-20200327125539412"></p><p>大概14分钟的编译就可以完成安装了。</p><p>B. 安装INET &amp; CoRE4INE框架  </p><ol><li><p>下载并解压INET  </p><p><a href="https://inet.omnetpp.org/Download.html" target="_blank" rel="noopener">https://inet.omnetpp.org/Download.html</a> </p><p>选择相应的版本下载即可，我选用的是INET 3.6.7，下载完成，新建一个文件夹作为仿真的工作空间，所有的仿真框架和源码都会集中存储在这个工作空间当中。</p></li><li><p>下载并解压CoRE4INET</p><p>git clone <a href="https://github.com/CoRE-RG/CoRE4INET" target="_blank" rel="noopener">https://github.com/CoRE-RG/CoRE4INET</a></p><p><del>不要直接去github dowload？</del></p><p>步骤同上，注意需要将CoRE4INET与INET放入同一个工作空间。</p></li><li><p>编译</p><p>编译可以用IDE也可以用命令行，因为之前用OMNET++5.0的时候，只有命令行编译不出错，用IDE编译会各种报错，很奇怪。</p><p>我这里沿用之前自己的方法，IDE+命令行</p><p>打开IDE，i.e., 在命令行输入 </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">omnetpp</span><br></pre></td></tr></table></figure><p>IDE启动，首次启动会需要选择工作空间的目录，选择我们之前建立好的工作空间即可。</p><p>然后，import框架，这里说一下，为什么没有选IDE自动在线安装，还是老生常谈，经验.. 在线安装以后，编译可能会各种报错.. 为了省事，直接import，如下图：</p><p><img src="C:%5CUsers%5CAdministrator.USER-20190806XV%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200327130605126.png" alt="image-20200327130605126"></p></li></ol><p><strong>先导入INET，然后倒入CoRE4INET</strong></p><blockquote><p>这里有两种方法，IDE编译和命令行编译，我先讲IDE编译，之前用过的OMET++5.0， INET3.2 只有在命令行编译不报错。</p></blockquote><p>然后等待，直到IDE右下方的，C/C++ Indexer完成，如下图</p><p><img src="C:%5CUsers%5CAdministrator.USER-20190806XV%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200327130725745.png" alt="image-20200327130725745"></p><p>然后右键分别点两个项目，把编译配置成release模式：（命令行用 make MODE=release）如下图</p><p><img src="C:%5CUsers%5CAdministrator.USER-20190806XV%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200327130940747.png" alt="image-20200327130940747"></p><p>注意，两个框架要一致！！要么都是debug模式，要么都是release模式，后者编译速度比较快。<strong>CoRE4INET的project reference 要选择同目录下的inet，当然如果按之前的步骤进行的话，这步选择会自动完成，不需要手动操作</strong></p><p>然后选build all 或者热键Ctrl+B，然后等待即可</p><p>下面简要记录命令行编译：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">cd inet</span><br><span class="line"></span><br><span class="line">make makefiles</span><br><span class="line"></span><br><span class="line">make MODE&#x3D;release</span><br><span class="line"></span><br><span class="line">cd CoRE4INET</span><br><span class="line"></span><br><span class="line">make makefiles</span><br><span class="line"></span><br><span class="line">make MODE&#x3D;release</span><br></pre></td></tr></table></figure><p>然后在IDE使用即可，不要用IDE再次进行编译！</p><blockquote><p>2020年3月27日13:31:23  At Lab</p></blockquote><a id="more"></a>]]></content>
      
      
      <categories>
          
          <category> archives </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TSN simulation </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>junhui</title>
      <link href="/2020/03/02/junhui/"/>
      <url>/2020/03/02/junhui/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
